# 谱聚类参数调试分析

## 调试目标
通过系统性地调整knn_graph函数的参数（k近邻数和距离阈值），找到谱聚类算法在该数据集上的最优参数组合。

## 参数空间（优化后）
- **k近邻数 (k)**：8, 12, 16（3个值）
- **距离阈值 (threshold)**：0.8, 1.4, 2.0（3个值）
- **总搜索次数**：9次（3个k值 × 3个阈值）→ 限制为最多8次

## 评估标准
使用**变异系数**（Coefficient of Variation）作为聚类平衡性的评估指标：
- **变异系数** = 标准差 / 均值
- **评分** = 1.0 / (1.0 + 变异系数)
- **评分范围**: 0-1，越接近1表示簇大小越平衡

**为什么选择变异系数？**
- 消除绝对数值大小的影响
- 更好地反映相对差异
- 对于簇大小[2343, 1735]，变异系数约为0.15，评分约0.87

## 预期调试结果

### 参数影响分析

#### k近邻数 (k)
- **较小k值** (5-10):
  - 构建的图较稀疏
  - 可能产生较多孤立点
  - 对噪声敏感
  - 计算速度快

- **中等k值** (10-20):
  - 图密度适中
  - 平衡了局部和全局信息
  - 通常能获得较好效果

- **较大k值** (20+):
  - 图较密集
  - 可能连接不应连接的簇
  - 计算成本高
  - 对噪声有一定鲁棒性

#### 距离阈值 (threshold)
- **较小阈值** (<1.0):
  - 严格过滤远距离连接
  - 可能过度分割簇
  - 适合紧密聚集的数据

- **中等阈值** (1.0-2.0):
  - 平衡连接性和分离性
  - 适合大多数数据集
  - 通常能获得稳定结果

- **较大阈值** (>2.0):
  - 允许远距离连接
  - 可能合并不同簇
  - 适合分散的数据分布

## 调试过程输出
程序会输出以下信息：
1. 参数搜索空间说明
2. 每个参数组合的测试结果（最多8个）
3. 簇大小分布和评分
4. 最佳参数组合及其评分

**注意**: 由于搜索次数限制为8次，实际测试的参数组合可能不完整，但会优先测试最有希望的参数值。

## 结果分析建议

### 最佳参数特征
- 评分最高的参数组合
- 簇大小分布最平衡
- 图连通性良好（非零连接）

### 参数敏感性分析
- 观察k值变化对结果的影响
- 分析阈值变化对聚类的影响
- 识别参数的稳定区间

### 与K-means对比
- 比较两种算法的簇大小分布
- 分析算法对数据结构的适应性
- 评估聚类结果的稳定性

## 使用建议

1. **参数选择**：优先选择评分高且稳定的参数组合
2. **鲁棒性考虑**：在参数稳定区间内选择中间值
3. **计算效率**：在满足精度要求下选择较小的k值
4. **结果验证**：通过可视化检查聚类结果的合理性

## 注意事项

1. **数据规模**：当前调试适用于中等规模数据集
2. **计算成本**：参数搜索会显著增加计算时间
3. **评估局限**：使用简单平衡性指标，可能不完全反映真实聚类质量
4. **随机性**：k-means的随机初始化可能影响比较结果

通过系统性的参数调试，可以找到适合特定数据集的谱聚类最优参数，提高聚类效果和稳定性。